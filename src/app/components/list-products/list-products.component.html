<app-sidebar></app-sidebar>
<div class="container-fluid">
  <div class="row">
    <div class="d-flex justify-content-end mb-4 mt-2">
      <button type="button" class="btn btn-primary" [ngClass]="{ 'pulse-animation': listProducts.length === 0 }"
        (click)="openProductModal()">
        <strong><i class="bi bi-floppy-fill"></i> Crear</strong>
      </button>
    </div>
    <app-alerts [showAlert]="listProducts.length === 0"></app-alerts>
    <div class="col-sm-6 col-md-4 mb-4" *ngFor="let product of this.listProducts">
      <section class="mx-auto" style="max-width: 23rem;">
        <div class="card testimonial-card mt-2 mb-3" style="height: 100%;">
          <div class="card-up aqua-gradient"></div>
          <div class="avatar mx-auto white">
            <img [src]="product.avatar" [alt]="product.nombreProducto" class="rounded-circle img-fluid"
              alt="product image">
          </div>
          <div class="card-body text-center" style="max-height: 300px;">
            <h4 class="card-title font-weight-bold typeLetter">{{ product.nombreProducto }}</h4>
            <hr>
            <p class="text-success mt-2 mb-3"><strong>{{ product.precio | currency:'USD' }}</strong></p>
            <p><i class="fas fa-quote-left"></i><strong>{{ product.descripcionProducto }}</strong></p>
            <div class="d-flex justify-content-center mt-3">
              <div class="quantity-selector d-flex align-items-center">
                <button type="button" class="btn btn-secondary btn-sm" (click)="decreaseQuantity(product)">
                  <i class="bi bi-dash-lg"></i>
                </button>
                <span class="mx-2"><strong>{{ product.quantity || 1}}</strong></span>
                <button type="button" class="btn btn-secondary btn-sm" (click)="increaseQuantity(product)">
                  <i class="bi bi-plus-lg"></i>
                </button>
              </div>
            </div>
            <div class="d-flex justify-content-center mt-3">
              <button type="button" class="btn btn-info btn-sm me-2" (click)="editProduct(product)">
                <i class="bi bi-pencil-fill"></i><strong>Editar</strong>
              </button>
              <button type="button" class="btn btn-danger btn-sm ms-2" (click)="deleteProduct(product.id)">
                <i class="bi bi-trash"></i><strong>Eliminar</strong>
              </button>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>